---
title: 如何在前端提供实现下载文件
date: 2024-02-18T00:00:00.000Z
author: KazooTTT
tags:
  - 前端
  - 前端实践
toAstro: true
slug: how-to-provide-implementation-download-files-on-the-frontend
link: 'https://kazoottt.notion.site/8098c919896e499c97444ab663b43246'
notionID: 8098c919-896e-499c-9744-4ab663b43246
description: >-
  在React框架中，为了提供一个模板Excel文件供用户下载，可以将文件`template.xlsx`放置在项目的public文件夹中，从而获取下载链接如`/template.xlsx`。若部署路径非根目录，需相应调整链接。通过绑定按钮的onClick事件，调用自定义函数`downloadFileFromURL`实现文件下载，该函数通过创建一个a标签并模拟点击来触发下载。此外，也可使用npm包`file-downloader`简化下载过程。
date_created: 2025-01-04T03:34:08.000Z
date_modified: 2025-02-19T03:44:09.000Z
---

# 如何在前端提供实现下载文件

有这样一个需求，我所使用的框架是 react，需要给用户一个模板 excel 进行参考，因为就这一个文件要下载，所有就不放在后端，直接放在前端这边进行下载了。

假设这个文件的名称叫做 `template.xlsx`

具体的做法是：

1. 把 excel 文件放到 public 文件夹中
2. 这样就可以拿到下载链接了 , `/template.xlsx`。
   需要注意的是如果你的部署路径不是 `/`，而是类似于 `/webapp` 这样的，你需要在前面加上它。也就是变成`/webapp/template.xlsx
   这样部署的时候，下载路径才是正确的。
3. 给 button 绑定 onClick 方法，这样点击的时候触发下载。用下面的写法，然后把 url 传进来就可以了。

```ts
export function downloadFileFromURL(url: string, filename?: string) {
  const a = document.createElement("a")
  a.href = url
  a.download = filename ?? ""
  a.target = "_blank"
  document.body.appendChild(a)
  a.click()
  document.body.removeChild(a)
}
```

也可以直接用这个 npm pkg，封装了下载方法 [file-downloader](/notes/file-downloader)
